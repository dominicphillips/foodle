// Generated by CoffeeScript 1.6.3
App.Router = Backbone.Router.extend({
  routes: {
    '': 'index',
    'dishes/:id': 'dish',
    'profile': 'profile',
    'restaurants': 'restaurants',
    'register': 'register',
    'login': 'login'
  },
  index: function() {
    App.appView.show(new App.LoadingView);
    return App.appView.show(new App.HomeView(App.position));
  },
  dish: function(id) {
    var model;
    model = new App.Dish({
      '_id': id
    });
    return model.fetch({
      url: '/api/dishes/' + id + ("/?lng=" + App.position.coords.longitude + "&lat=" + App.position.coords.latitude),
      success: function(success) {
        var view;
        model.set('stripped', true);
        view = new App.DishView({
          model: model
        });
        return App.appView.show(view);
      }
    });
  },
  profile: function() {
    return App.appView.show(new App.ProfileView);
  },
  register: function() {
    return App.appView.show(new App.RegisterView);
  },
  login: function() {
    return App.appView.show(new App.LoginView);
  },
  restaurants: function() {
    App.appView.show(new App.LoadingView);
    return App.appView.show(new App.RestaurantHomeView(App.position));
  }
});
