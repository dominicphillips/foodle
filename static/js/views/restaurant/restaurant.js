// Generated by CoffeeScript 1.6.3
App.RestaurantView = App.BaseView.extend({
  className: 'item',
  template: App.templates['restaurant/restaurant'],
  events: {
    'click .tile': 'onClickTile'
  },
  onClickTile: function() {
    return App.appView.showModal(new App.MapsView);
  },
  onAfterRender: function() {
    var indicator, percent, score;
    score = this.model.get('health_score');
    percent = score * 100 / 5;
    indicator = 'success';
    if (percent < 50) {
      indicator = 'danger';
    }
    return this.$el.find('.bar').css({
      width: percent + '%'
    }).addClass('bar-' + indicator);
  }
});
